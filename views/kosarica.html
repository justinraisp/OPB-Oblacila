%import math
<html>

<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
        integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.9.4/css/bulma.min.css"
        integrity="sha512-HqxHUkJM0SYcbvxUw5P60SzdOTy/QVwA1JJrvaXJv4q7lmbDZCmZaqz01UPOaQveoxfYRv1tHozWGPMcuTBuvQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <title>Artikli</title>
</head>
<style>
    /* Hide the default checkbox */
    .custom-checkbox input[type="checkbox"] {
        display: none;
    }

    /* Style the custom checkbox container */
    .custom-checkbox {
        display: flex;
        align-items: center;
        /* Align the text with the checkbox */
        cursor: pointer;
        /* Show the pointer cursor on hover */
        margin-bottom: 10px;
        /* Optional: Add some spacing between each checkbox */
    }

    /* Style the custom checkbox */
    .custom-checkbox .checkmark {
        display: inline-block;
        width: 20px;
        height: 20px;
        background-color: white;
        border: 1px solid hsl(171, 80%, 41%);
        ;
        position: relative;
        margin-right: 8px;
        /* Optional: Add some spacing between checkbox and text */
    }

    /* Add a tick symbol using a pseudo-element when the checkbox is checked */
    .custom-checkbox input[type="checkbox"]:checked+.checkmark::before {
        content: "\2713";
        /* Unicode for checkmark symbol */
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 16px;
        color: #fff;
        /* Color of the checkmark when checked */
    }

    /* Customize the background color when the checkbox is checked */
    .custom-checkbox input[type="checkbox"]:checked+.checkmark {
        background-color: hsl(171, 100%, 41%);
        ;
        /* Red background when checked */
        border-color: white;
        /* Red border color when checked */
    }

    /* Style the text when hovered */
    .custom-checkbox:hover {
        text-decoration: underline;
        /* Underline the text on hover */
    }



    .btn:hover {

        background-color: hsl(171, 80%, 41%);
        color: white;
        border-color: hsl(171, 100%, 41%);

    }

    .btn {

        background-color: white;
        color: hsl(171, 100%, 41%);
        border-color: hsl(171, 100%, 41%);
    }

    .vrstica:hover {
        background-color: hsl(171, 100%, 41%);
    }
</style>

<body>

    <div class="container is-max">

        <div class="block">
            <nav class="navbar is-transparent">


                <div id="navbarExampleTransparentExample" class="navbar-menu">
                    <div class="navbar-start">
                        <a class="navbar-item" href="/">
                            Artikli
                    <a class="navbar-item" href="/kosarica/" style="color: hsl(171, 100%, 41%); ">
                        
                        <p style="text-decoration: underline;color: hsl(171, 100%, 41%);">Košarica</p>    <i class="fa fa-shopping-basket" aria-hidden="true" style="padding-left: 5px;"></i>
                      </a>
                        <a class="navbar-item" href="/odjava">
                            Odjava
                          </a>
                    </div>
                    <div class="navbar-end">
                        <a class="navbar-item" href="/uporabnik_guest/">
                            <i class="fa-solid fa-user" style="color: hsl(171, 100%, 41%); padding-right: 10px;"></i> {{ stanje.uporabnik }} | Stanje na računu: {{ stanje.bilanca }} €
                        </a>
                    </div>

                </div>
            </nav>
        </div>



        <section class="hero is-primary">
            <div class="hero-body">
                
                <div class="title">Košarica</div>

                % if artikli:

                <div class="table-container" style="padding-top:25px">

                    <table class="table" style="width: 100%; background-color: hsl(171, 80%, 41%) ;">
                        <thead>
                            <tr>
                                <th style="width: 200px;" ></th>
                                <th>Sku</th>
                                <th>Količina</th>
                                <th>Cena</th>
                            </tr>
                        </thead>
                        <tbody>
                            % for sku in artikli.keys():
                            <tr class="vrstica">
                                <td >
                                    <form action="/izbrisi_iz_kosarice/{{sku}}"  method="post">

                                        <div class="field has-addons" >
<div class="control">
<input type="number"style="width:100px" min=1 max={{ artikli[sku]["kolicina"] }} name="kolicina_izbrisi_kosarica"  class="input is-primary"
                                            placeholder="Količina">
</div>
<div class="control">
<button class="button  fa fa-trash" type="submit" aria-hidden="true"
                                            style="border: hsl(171, 100%, 41%); color:red; background-color: hsl(171, 80%, 41%);">
                                        </button>
</div>
                                        </div>
                                        
                                        
                                    </form>
                                </td>
                                <td>
                                    <p >{{ sku }}</p>
                                </td>
                                <td>
                                    <p >{{ artikli[sku]["kolicina"] }}</p>
                                </td>
                                <td>
                                    <p >{{ format(artikli[sku]["cena"], ".2f") }}€</p>
                                </td>
                            </tr>
                            % end
                        </tbody>
                    </table>

                    % else:
                    <p>Košarica je prazna.</p>
                    % end   

                </div>


% if napaka != None :
            <div class="notification is-warning" style="width: 30%;">
              <p class="opozorilo">{{napaka}}</p>
            </div>
            % end
            %if artikli:
            <form action="/izvedi_nakup" method="post">
                <button class="button is-medium btn" type="submit" style="float: right;" aria-hidden="true"> Kupi</button>
            </form>
            %end


            </div>
            
        </section>
            
<div class="block" style="height: 50px;">

</div>


</body>

</html>